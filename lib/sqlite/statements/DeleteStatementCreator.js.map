{"version":3,"sources":["../../../src/sqlite/statements/DeleteStatementCreator.js"],"names":["DeleteStatementCreator","entity","validateEntityPrimaryKeys","Error","whereStatement","createWhereExpression","sql","SqliteUtils","escapeName","tableName","values","options","deleteStatementCreator","createStatement","AbstractStatementCreator"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;;;;;;;;;IAEqBA,sB;;;;;;;;;;;0CAOC;AACd,gBAAMC,SAAS,KAAKA,MAApB;;AAEA,gBAAI,CAAC,KAAKC,yBAAL,CAA+BD,MAA/B,CAAL,EAA6C;AACzC,sBAAM,IAAIE,KAAJ,CAAU,+CAAV,CAAN;AACH;;AAED,gBAAMC,iBAAiB,KAAKC,qBAAL,CAA2BJ,MAA3B,CAAvB;;AAEA,mBAAO;AACHK,sCAAoBC,sBAAYC,UAAZ,CAAuB,KAAKC,SAA5B,CAApB,SAA8DL,cAD3D;AAEHM,wBAAQ;AAFL,aAAP;AAIH;;;wCAlBsBC,O,EAAQ;AAC3B,gBAAMC,yBAAyB,IAAIZ,sBAAJ,CAA2BW,OAA3B,CAA/B;AACA,mBAAOC,uBAAuBC,eAAvB,EAAP;AACH;;;;EAL+CC,kC;;kBAA/Bd,sB","file":"DeleteStatementCreator.js","sourcesContent":["import SqliteUtils from \"../utils/SqliteUtils\";\nimport AbstractStatementCreator from \"./AbstractStatementCreator\";\n\nexport default class DeleteStatementCreator extends AbstractStatementCreator {\n\n    static createStatement(options){\n        const deleteStatementCreator = new DeleteStatementCreator(options);\n        return deleteStatementCreator.createStatement(); \n    }\n\n    createStatement() {\n        const entity = this.entity;\n\n        if (!this.validateEntityPrimaryKeys(entity)) {\n            throw new Error(\"Cannot delete entity: Invalid primary key(s).\");\n        }\n\n        const whereStatement = this.createWhereExpression(entity);\n\n        return {\n            sql: `DELETE FROM ${SqliteUtils.escapeName(this.tableName)} ${whereStatement}`,\n            values: []\n        }\n    }\n}"]}