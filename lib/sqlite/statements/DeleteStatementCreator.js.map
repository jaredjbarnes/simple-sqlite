{"version":3,"sources":["../../../src/sqlite/statements/DeleteStatementCreator.js"],"names":["DeleteStatementCreator","AbstractStatementCreator","createStatement","options","deleteStatementCreator","entity","validateEntityPrimaryKeys","Error","whereStatement","createWhereExpression","sql","SqliteUtils","escapeName","tableName","values"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEe,MAAMA,sBAAN,SAAqCC,iCAArC,CAA8D;AAEzE,SAAOC,eAAP,CAAuBC,OAAvB,EAA+B;AAC3B,UAAMC,sBAAsB,GAAG,IAAIJ,sBAAJ,CAA2BG,OAA3B,CAA/B;AACA,WAAOC,sBAAsB,CAACF,eAAvB,EAAP;AACH;;AAEDA,EAAAA,eAAe,GAAG;AACd,UAAMG,MAAM,GAAG,KAAKA,MAApB;;AAEA,QAAI,CAAC,KAAKC,yBAAL,CAA+BD,MAA/B,CAAL,EAA6C;AACzC,YAAM,IAAIE,KAAJ,CAAU,+CAAV,CAAN;AACH;;AAED,UAAMC,cAAc,GAAG,KAAKC,qBAAL,CAA2BJ,MAA3B,CAAvB;AAEA,WAAO;AACHK,MAAAA,GAAG,EAAG,eAAcC,qBAAYC,UAAZ,CAAuB,KAAKC,SAA5B,CAAuC,IAAGL,cAAe,EAD1E;AAEHM,MAAAA,MAAM,EAAE;AAFL,KAAP;AAIH;;AApBwE","sourcesContent":["import SqliteUtils from \"../utils/SqliteUtils\";\nimport AbstractStatementCreator from \"./AbstractStatementCreator\";\n\nexport default class DeleteStatementCreator extends AbstractStatementCreator {\n\n    static createStatement(options){\n        const deleteStatementCreator = new DeleteStatementCreator(options);\n        return deleteStatementCreator.createStatement(); \n    }\n\n    createStatement() {\n        const entity = this.entity;\n\n        if (!this.validateEntityPrimaryKeys(entity)) {\n            throw new Error(\"Cannot delete entity: Invalid primary key(s).\");\n        }\n\n        const whereStatement = this.createWhereExpression(entity);\n\n        return {\n            sql: `DELETE FROM ${SqliteUtils.escapeName(this.tableName)} ${whereStatement}`,\n            values: []\n        }\n    }\n}"],"file":"DeleteStatementCreator.js"}