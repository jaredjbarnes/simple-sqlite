{"version":3,"sources":["../../src/utils/overlay.js"],"names":["isObject","obj","Array","isArray","isPrimitive","value","clone","result","Object","keys","forEach","key","overlay","bottom","top"],"mappings":";;;;;;;;AAAA,IAAMA,WAAW,SAAXA,QAAW,MAAO;AACpB,SAAO,QAAOC,GAAP,yCAAOA,GAAP,OAAe,QAAf,IAA2BA,QAAQ,IAAnC,IAA2C,CAACC,MAAMC,OAAN,CAAcF,GAAd,CAAnD;AACD,CAFH;;AAIE,IAAMG,cAAc,SAAdA,WAAc,QAAS;AAC3B,SAAO,CAACF,MAAMC,OAAN,CAAcE,KAAd,CAAD,IAAyB,CAACL,SAASK,KAAT,CAAjC;AACD,CAFD;;AAIA,IAAMC,QAAQ,SAARA,KAAQ,MAAO;AACnB,MAAIF,YAAYH,GAAZ,CAAJ,EAAsB;AACpB,WAAOA,GAAP;AACD;;AAED,MAAMM,SAASL,MAAMC,OAAN,CAAcF,GAAd,IAAqB,EAArB,GAA0B,EAAzC;;AAEAO,SAAOC,IAAP,CAAYR,GAAZ,EAAiBS,OAAjB,CAAyB,eAAO;AAC9BH,WAAOI,GAAP,IAAcL,MAAML,IAAIU,GAAJ,CAAN,CAAd;AACD,GAFD;;AAIA,SAAOJ,MAAP;AACD,CAZD;;AAcA,IAAMK,UAAU,SAAVA,OAAU,CAACC,MAAD,EAASC,GAAT,EAAiB;AAC/B,MAAID,UAAU,IAAV,IAAkBC,OAAO,IAA7B,EAAmC;AACjC,WAAOR,MAAMQ,GAAN,CAAP;AACD;;AAED,MAAIA,OAAO,IAAP,IAAeD,UAAU,IAA7B,EAAmC;AACjC,WAAOP,MAAMO,MAAN,CAAP;AACD;;AAED,MAAMN,SAASD,MAAMQ,GAAN,CAAf;;AAEA,MAAIV,YAAYS,MAAZ,CAAJ,EAAyB;AACvB,QAAI,QAAOA,MAAP,yCAAOA,MAAP,eAAyBC,GAAzB,yCAAyBA,GAAzB,EAAJ,EAAkC;AAChC,aAAOA,GAAP;AACD,KAFD,MAEO;AACL,aAAOD,MAAP;AACD;AACF;;AAEDL,SAAOC,IAAP,CAAYI,MAAZ,EAAoBH,OAApB,CAA4B,eAAO;AACjC,QAAIR,MAAMC,OAAN,CAAcU,OAAOF,GAAP,CAAd,CAAJ,EAAgC;AAC9B,UAAIT,MAAMC,OAAN,CAAcW,IAAIH,GAAJ,CAAd,CAAJ,EAA6B;AAC3BJ,eAAOI,GAAP,IAAcC,QAAQC,OAAOF,GAAP,CAAR,EAAqBG,IAAIH,GAAJ,CAArB,CAAd;AACD,OAFD,MAEO;AACLJ,eAAOI,GAAP,IAAcL,MAAMO,OAAOF,GAAP,CAAN,CAAd;AACD;AACF,KAND,MAMO,IAAIX,SAASa,OAAOF,GAAP,CAAT,CAAJ,EAA2B;AAChC,UAAIX,SAASc,IAAIH,GAAJ,CAAT,CAAJ,EAAwB;AACtBJ,eAAOI,GAAP,IAAcC,QAAQC,OAAOF,GAAP,CAAR,EAAqBG,IAAIH,GAAJ,CAArB,CAAd;AACD,OAFD,MAEO;AACLJ,eAAOI,GAAP,IAAcL,MAAMO,OAAOF,GAAP,CAAN,CAAd;AACD;AACF,KANM,MAMA,IAAIP,YAAYS,OAAOF,GAAP,CAAZ,CAAJ,EAA8B;AACnC,UAAI,QAAOE,OAAOF,GAAP,CAAP,cAA8BG,IAAIH,GAAJ,CAA9B,CAAJ,EAA4C;AAC1CJ,eAAOI,GAAP,IAAcC,QAAQC,OAAOF,GAAP,CAAR,EAAqBG,IAAIH,GAAJ,CAArB,CAAd;AACD,OAFD,MAEO;AACLJ,eAAOI,GAAP,IAAcL,MAAMO,OAAOF,GAAP,CAAN,CAAd;AACD;AACF;AACF,GApBD;;AAsBA,SAAOJ,MAAP;AACD,CA1CD;;kBA4CeK,O","file":"overlay.js","sourcesContent":["const isObject = obj => {\n    return typeof obj === \"object\" && obj !== null && !Array.isArray(obj);\n  };\n  \n  const isPrimitive = value => {\n    return !Array.isArray(value) && !isObject(value);\n  };\n  \n  const clone = obj => {\n    if (isPrimitive(obj)) {\n      return obj;\n    }\n  \n    const result = Array.isArray(obj) ? [] : {};\n  \n    Object.keys(obj).forEach(key => {\n      result[key] = clone(obj[key]);\n    });\n  \n    return result;\n  };\n  \n  const overlay = (bottom, top) => {\n    if (bottom == null && top != null) {\n      return clone(top);\n    }\n  \n    if (top == null && bottom != null) {\n      return clone(bottom);\n    }\n  \n    const result = clone(top);\n  \n    if (isPrimitive(bottom)) {\n      if (typeof bottom === typeof top) {\n        return top;\n      } else {\n        return bottom;\n      }\n    }\n  \n    Object.keys(bottom).forEach(key => {\n      if (Array.isArray(bottom[key])) {\n        if (Array.isArray(top[key])) {\n          result[key] = overlay(bottom[key], top[key]);\n        } else {\n          result[key] = clone(bottom[key]);\n        }\n      } else if (isObject(bottom[key])) {\n        if (isObject(top[key])) {\n          result[key] = overlay(bottom[key], top[key]);\n        } else {\n          result[key] = clone(bottom[key]);\n        }\n      } else if (isPrimitive(bottom[key])) {\n        if (typeof bottom[key] === typeof top[key]) {\n          result[key] = overlay(bottom[key], top[key]);\n        } else {\n          result[key] = clone(bottom[key]);\n        }\n      }\n    });\n  \n    return result;\n  };\n  \n  export default overlay;\n  "]}