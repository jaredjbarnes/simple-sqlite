{"version":3,"sources":["../../src/tests/Database.js"],"names":["assert","exports","database","Database","sqlite","addSchema","personSchema","addressSchema","phoneNumberSchema","createTablesFromSchemasAsync","then","getRepository","name","version","addAsync","firstName","lastName"],"mappings":";;AAAA;;IAAYA,M;;AACZ;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;AAEAC,QAAQ,wBAAR,IAAoC,YAAM;AACtC,QAAMC,WAAW,IAAIC,kBAAJ,CAAa,EAAED,UAAU,IAAIE,iBAAOD,QAAX,CAAoB,UAApB,CAAZ,EAAb,CAAjB;;AAEAD,aAASG,SAAT,CAAmBC,gBAAnB;AACAJ,aAASG,SAAT,CAAmBE,iBAAnB;AACAL,aAASG,SAAT,CAAmBG,qBAAnB;AAEH,CAPD;;AASAP,QAAQ,uBAAR,IAAmC,YAAM;AACrC,QAAMC,WAAW,IAAIC,kBAAJ,CAAa,EAAED,UAAS,IAAIE,iBAAOD,QAAX,CAAoB,UAApB,CAAX,EAAb,CAAjB;;AAEAD,aAASG,SAAT,CAAmBC,gBAAnB;;AAEA,WAAOJ,SAASO,4BAAT,GAAwCC,IAAxC,CAA6C,YAAM;AACtD,eAAOR,SAASS,aAAT,CAAuBL,iBAAaM,IAApC,EAA0CN,iBAAaO,OAAvD,EAAgEC,QAAhE,CAAyE;AAC5EC,uBAAW,MADiE;AAE5EC,sBAAU;AAFkE,SAAzE,CAAP;AAIH,KALM,CAAP;AAOH,CAZD","file":"Database.js","sourcesContent":["import * as assert from \"assert\";\nimport Database from \"../sqlite/Database\";\nimport sqlite from \"sqlite3\";\nimport personSchema from \"../testSchemas/person\";\nimport addressSchema from \"../testSchemas/address\";\nimport phoneNumberSchema from \"../testSchemas/phoneNumber\";\n\nexports[\"Database: Add Schemas.\"] = () => {\n    const database = new Database({ database: new sqlite.Database(\":memory:\") });\n\n    database.addSchema(personSchema);\n    database.addSchema(addressSchema);\n    database.addSchema(phoneNumberSchema);\n\n};\n\nexports[\"Database: Add Person.\"] = () => {\n    const database = new Database({ database:new sqlite.Database(\":memory:\") });\n\n    database.addSchema(personSchema);\n\n    return database.createTablesFromSchemasAsync().then(() => {\n        return database.getRepository(personSchema.name, personSchema.version).addAsync({\n            firstName: \"John\",\n            lastName: \"Doe\"\n        });\n    });\n\n};\n\n"]}