{"version":3,"sources":["../../src/tests/SelectStatementCreator.js"],"names":["assert","exports","queryable","Queryable","type","column","isEqualTo","selectStatementCreator","SelectStatementCreator","createStatement","sql","expected","equal","isNotEqualTo","contains","startsWith","endsWith","isGreaterThan","isGreaterThanOrEqualTo","isLessThan","isLessThanOrEqualTo","isIn","isNotIn","select","id","rootQueryable"],"mappings":"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","file":"SelectStatementCreator.js","sourcesContent":["import * as assert from \"assert\";\nimport SelectStatementCreator from \"../sqlite/statements/SelectStatementCreator\";\nimport Queryable from \"../queryable/Queryable\";\n\n\nexports[\"SelectStatementCreator: isEqualTo\"] = () => {\n    const queryable = new Queryable({ type: \"table\" }).column(\"columnName\").isEqualTo(\"value\");\n    const selectStatementCreator = new SelectStatementCreator(queryable);\n    const { sql } = selectStatementCreator.createStatement();\n    const expected = `SELECT * FROM \"table\" WHERE \"columnName\" = 'value' LIMIT -1 OFFSET 0`;\n\n    assert.equal(sql, expected);\n}\n\nexports[\"SelectStatementCreator: isNotEqualTo\"] = () => {\n    const queryable = new Queryable({ type: \"table\" }).column(\"columnName\").isNotEqualTo(\"value\");\n    const selectStatementCreator = new SelectStatementCreator(queryable);\n    const { sql } = selectStatementCreator.createStatement();\n    const expected = `SELECT * FROM \"table\" WHERE \"columnName\" != 'value' LIMIT -1 OFFSET 0`;\n\n    assert.equal(sql, expected);\n}\n\nexports[\"SelectStatementCreator: contains\"] = () => {\n    const queryable = new Queryable({ type: \"table\" }).column(\"columnName\").contains(\"value\");\n    const selectStatementCreator = new SelectStatementCreator(queryable);\n    const { sql } = selectStatementCreator.createStatement();\n    const expected = `SELECT * FROM \"table\" WHERE \"columnName\" LIKE '%value%' LIMIT -1 OFFSET 0`;\n\n    assert.equal(sql, expected);\n}\n\nexports[\"SelectStatementCreator: startsWith\"] = () => {\n    const queryable = new Queryable({ type: \"table\" }).column(\"columnName\").startsWith(\"value\");\n    const selectStatementCreator = new SelectStatementCreator(queryable);\n    const { sql } = selectStatementCreator.createStatement();\n    const expected = `SELECT * FROM \"table\" WHERE \"columnName\" LIKE 'value%' LIMIT -1 OFFSET 0`;\n\n    assert.equal(sql, expected);\n}\n\nexports[\"SelectStatementCreator: endsWith\"] = () => {\n    const queryable = new Queryable({ type: \"table\" }).column(\"columnName\").endsWith(\"value\");\n    const selectStatementCreator = new SelectStatementCreator(queryable);\n    const { sql } = selectStatementCreator.createStatement();\n    const expected = `SELECT * FROM \"table\" WHERE \"columnName\" LIKE '%value' LIMIT -1 OFFSET 0`;\n\n    assert.equal(sql, expected);\n}\n\nexports[\"SelectStatementCreator: isGreaterThan\"] = () => {\n    const queryable = new Queryable({ type: \"table\" }).column(\"columnName\").isGreaterThan(0);\n    const selectStatementCreator = new SelectStatementCreator(queryable);\n    const { sql } = selectStatementCreator.createStatement();\n    const expected = `SELECT * FROM \"table\" WHERE \"columnName\" > 0 LIMIT -1 OFFSET 0`;\n\n    assert.equal(sql, expected);\n}\n\nexports[\"SelectStatementCreator: isGreaterThanOrEqualTo\"] = () => {\n    const queryable = new Queryable({ type: \"table\" }).column(\"columnName\").isGreaterThanOrEqualTo(0);\n    const selectStatementCreator = new SelectStatementCreator(queryable);\n    const { sql } = selectStatementCreator.createStatement();\n    const expected = `SELECT * FROM \"table\" WHERE \"columnName\" >= 0 LIMIT -1 OFFSET 0`;\n\n    assert.equal(sql, expected);\n}\n\nexports[\"SelectStatementCreator: isLessThan\"] = () => {\n    const queryable = new Queryable({ type: \"table\" }).column(\"columnName\").isLessThan(0);\n    const selectStatementCreator = new SelectStatementCreator(queryable);\n    const { sql } = selectStatementCreator.createStatement();\n    const expected = `SELECT * FROM \"table\" WHERE \"columnName\" < 0 LIMIT -1 OFFSET 0`;\n\n    assert.equal(sql, expected);\n}\n\nexports[\"SelectStatementCreator: isLessThanOrEqualTo\"] = () => {\n    const queryable = new Queryable({ type: \"table\" }).column(\"columnName\").isLessThanOrEqualTo(0);\n    const selectStatementCreator = new SelectStatementCreator(queryable);\n    const { sql } = selectStatementCreator.createStatement();\n    const expected = `SELECT * FROM \"table\" WHERE \"columnName\" <= 0 LIMIT -1 OFFSET 0`;\n\n    assert.equal(sql, expected);\n}\n\nexports[\"SelectStatementCreator: isIn with array.\"] = () => {\n    const queryable = new Queryable({ type: \"table\" }).column(\"columnName\").isIn([\"John\", \"Jane\"]);\n    const selectStatementCreator = new SelectStatementCreator(queryable);\n    const { sql } = selectStatementCreator.createStatement();\n    const expected = `SELECT * FROM \"table\" WHERE \"columnName\" IN ('John', 'Jane') LIMIT -1 OFFSET 0`;\n\n    assert.equal(sql, expected);\n}\n\nexports[\"SelectStatementCreator: isNotIn with array.\"] = () => {\n    const queryable = new Queryable({ type: \"table\" }).column(\"columnName\").isNotIn([\"John\", \"Jane\"]);\n    const selectStatementCreator = new SelectStatementCreator(queryable);\n    const { sql } = selectStatementCreator.createStatement();\n    const expected = `SELECT * FROM \"table\" WHERE \"columnName\" NOT IN ('John', 'Jane') LIMIT -1 OFFSET 0`;\n\n    assert.equal(sql, expected);\n}\n\n\nexports[\"SelectStatementCreator: isIn with queryable.\"] = () => {\n    const queryable = new Queryable({ type: \"other_table\" }).select({id: \"id\"});\n    const rootQueryable = new Queryable({type: \"table\"}).column(\"columnName\").isIn(queryable);\n    const selectStatementCreator = new SelectStatementCreator(rootQueryable);\n    const { sql } = selectStatementCreator.createStatement();\n    const expected = `SELECT * FROM \"table\" WHERE \"columnName\" IN (SELECT id AS id FROM \"other_table\" LIMIT -1 OFFSET 0) LIMIT -1 OFFSET 0`;\n\n    assert.equal(sql, expected);\n}\n\nexports[\"SelectStatementCreator: isIn with queryable.\"] = () => {\n    const queryable = new Queryable({ type: \"other_table\" }).select({id: \"id\"});\n    const rootQueryable = new Queryable({type: \"table\"}).column(\"columnName\").isNotIn(queryable);\n    const selectStatementCreator = new SelectStatementCreator(rootQueryable);\n    const { sql } = selectStatementCreator.createStatement();\n    const expected = `SELECT * FROM \"table\" WHERE \"columnName\" NOT IN (SELECT id AS id FROM \"other_table\" LIMIT -1 OFFSET 0) LIMIT -1 OFFSET 0`;\n\n    assert.equal(sql, expected);\n}"]}